# 🍽️ Solefood 美食卸貨地圖 — 餐廳圖標設計方向

## 🎯 設計目標

- **地圖清楚易懂**：標註不搶戲、不遮擋道路與 POI，一眼能辨識「可卸貨餐廳」。
- **Q 版可愛遊戲風格**：與 Solefood 主視覺一致，像遊戲內的地圖標記，有辨識度與品牌感。
- **第一階段以文字為主**：先做好「餐廳名稱 + 果凍膠囊外框」，後續再考慮圖示、分類色、動效。

---

## 🎨 視覺方向

### 1. 整體風格

| 項目 | 建議 |
|------|------|
| **形狀** | 圓潤膠囊／果凍膠囊（橫向橢圓 + 底部小三角指針） |
| **質感** | 半透明、輕微發光，像浮在地圖上 |
| **配色** | 深色地圖上：橙紅／暖色漸層 + 白字，或淺色膠囊 + 深字 |
| **陰影** | 輕微陰影或外發光，讓標註與地圖有層次 |

### 2. 文字標籤

- **字體**：圓潤粗體（如 SF Rounded Heavy / System Font Heavy Rounded），易讀且偏 Q 版。
- **顏色**：白色或淺色，確保在膠囊背景上對比足夠。
- **內容**：餐廳名稱（例：「麥當勞 - 台北店」），必要時可截斷 + 「…」。
- **排版**：置中、左右留邊距，不貼滿膠囊邊緣。

### 3. 底部指針（錨點）

- **形狀**：小倒三角形，尖點朝下。
- **顏色**：與膠囊底部一致或略深，視覺連成一體。
- **錨點**：**整個 View 的錨點必須是三角形最底端尖點**，這樣放到 Mapbox 座標時，尖點精準對齊該路口／餐廳位置，不會浮在半空。

---

## 📐 技術規格（與 FoodDropAnnotationView 對應）

1. **背景**：`UIImageView`，圖片名 `jelly_pill_background`（圓潤、發光、橙紅漸層膠囊）。
2. **陰影**：背景圖或 View 層級加輕微陰影，營造「浮在地圖上」。
3. **文字**：中央 `UILabel`，圓潤粗體、白色，顯示餐廳名稱，依內容自適應寬度並限制在膠囊內。
4. **指針**：膠囊正下方用 `CAShapeLayer` 繪製倒三角，顏色與膠囊底部一致；View 的 `layer.anchorPoint` 設為底部中心，使尖點即為錨點。

---

## 📍 測試座標（來自您提供的 GPX）

設計／預覽時可使用以下任一座標（台灣，約 22.53°N, 120.96°E）：

- **起點**：`lat: 22.531548, lon: 120.967278`
- **中段**：`lat: 22.531733, lon: 120.967079`
- **後段**：`lat: 22.531534, lon: 120.967140`

在 Mapbox 上放置 `FoodDropAnnotationView` 時，錨點對齊上述座標，即可檢查標註是否精準指向該點。

---

## ✅ 實作檢查清單

- [ ] 膠囊背景圖 `jelly_pill_background` 已加入 Asset Catalog
- [ ] `FoodDropAnnotationView` 錨點為底部尖點（anchorPoint 與 frame 一致）
- [ ] 文字過長時有截斷或最大寬度，不撐破膠囊
- [ ] 在深色 Mapbox 地圖上可讀性良好
- [ ] 在指定 GPX 座標上實機或模擬器預覽
